<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:nya="http://xmlns.jcp.org/jsf/composite/components"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
>
<ui:composition template="/templates/template.xhtml">
    <ui:define name="title">Nya.GG - Video Library</ui:define>
    <ui:define name="heading">Video Library</ui:define>
    <ui:define name="head">
        <h:outputStylesheet name="/assets/css/videolibrary.css"/>
    </ui:define>
    <ui:define name="content">
        <div class="my-3 flex-row flex-justify-space-between">
            <p:linkButton outcome="/home.xhtml"
                          styleClass="ui-button ui-button-secondary">
                <i class="pi pi-arrow-left"/> Back to Home
            </p:linkButton>
            <p:linkButton outcome="/videoupload.xhtml"
                          styleClass="ui-button ui-button-secondary">
                <i class="pi pi-upload"/> Upload Video
            </p:linkButton>
        </div>
        <h:panelGroup id="video-grid" styleClass="video-grid" layout="block">
            <ui:repeat value="#{videoLibraryBean.videos}" var="video">
                <nya:videoPreview
                        thumbnailUrl="#{videoLibraryBean.getThumbnailUrl(video)}"
                        createdAt="#{videoLibraryBean.getCreatedAt(video)}"
                        videoUrl="#{videoLibraryBean.getVideoUrl(video)}"
                        title="#{videoLibraryBean.getVideoTitle(video)}"
                />
            </ui:repeat>
        </h:panelGroup>

        <div class="my-5 flex-column flex-align-center">
            <p:commandButton
                    value="#{videoLibraryBean.loadVideosButtonText}"
                    action="#{videoLibraryBean.loadMoreVideos}"
                    disabled="#{!videoLibraryBean.canLoadMoreVideos}"
                    update=":video-grid @this"
                    styleClass="ui-button-secondary"
            />
        </div>
    </ui:define>

</ui:composition>
</html>
