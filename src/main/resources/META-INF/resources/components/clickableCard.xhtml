<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
>

<composite:interface>
    <composite:attribute name="title" required="true" type="String"/>
    <composite:attribute name="subtitle" required="false" type="String"/>
    <composite:attribute name="outcome" required="true" type="String"/>
    <composite:attribute name="role" required="true" type="String"/>
</composite:interface>

<composite:implementation>
    <p:link outcome="${cc.attrs.outcome}" disabled="#{not userSession.hasRole(cc.attrs.role)}" styleClass="no-underline">
        <p:card styleClass="clickable-card">
            <f:facet name="title">
                <h3>${cc.attrs.title}</h3>
            </f:facet>
            <f:facet name="subtitle" rendered="#{not empty cc.attrs.subtitle}">
                ${cc.attrs.subtitle}
                <h:panelGroup layout="block" rendered="#{not userSession.hasRole(cc.attrs.role)}"
                              styleClass="error-text">
                    You do not have access to this feature.
                </h:panelGroup>
            </f:facet>
        </p:card>
    </p:link>
</composite:implementation>
</html>